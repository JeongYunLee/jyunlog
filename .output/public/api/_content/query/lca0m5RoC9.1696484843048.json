{"_path":"/blog/2023-03-15-wikibabeintegrator","_dir":"blog","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"<Mediawiki-3> WikibaseIntegrator로 csv 임포트하기","description":"","date":"2023-03-15","tags":["Wikibase","Docker","WikibaseIntegrator"],"draft":false,"summary":"WikibaseIntegrator를 사용하여 로컬 wikibase에 csv 데이터를 임포트하고 삭제하는 방법을 알아봅니다.","body":{"type":"root","children":[{"type":"element","tag":"div","props":{"style":"color:#F08080;border-radius:10px;text-align:center;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tag":"h3","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"element","tag":"span","props":{"style":"color:#F08080;"},"children":[{"type":"text","value":"❝"}]}]}]},{"type":"text","value":"\n    "},{"type":"element","tag":"h3","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"element","tag":"span","props":{"style":"color:#F08080;"},"children":[{"type":"text","value":"2023-08-12에 수정된 문서 입니다"}]}]}]},{"type":"text","value":"\n    "},{"type":"element","tag":"h3","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"element","tag":"span","props":{"style":"color:#F08080;"},"children":[{"type":"text","value":"❞"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"wikibase-main","src":"/images/blogImg/2023-03-15-1.png"},"children":[]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"환경: MacOS (M2)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"참고자료: "},{"type":"element","tag":"a","props":{"href":"https://github.com/SemanticLab/data-2-wikibase","rel":["nofollow"]},"children":[{"type":"text","value":"깃헙"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"https://learningwikibase.com/data-import/","rel":["nofollow"]},"children":[{"type":"text","value":"가이드"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"_1-가상환경-설정"},"children":[{"type":"text","value":"1. 가상환경 설정"}]},{"type":"element","tag":"div","props":{"style":"background:#e4f0db;padding:1%;border-radius:10px;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tag":"h4","props":{},"children":[{"type":"text","value":"✔️ 가상환경에서 설치해야 하는 이유"}]},{"type":"text","value":"\n    "},{"type":"element","tag":"ul","props":{},"children":[{"type":"text","value":"\n        "},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"pywikibot을 `pip isntall pywikibot` 했을 때는 local의 wikibase와 연결하기 위해서 포트 번호 변경하는 파일을 수정해줄 수 없음."}]},{"type":"text","value":"\n        "},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"pywikibot 깃헙을 클론해서 (파일이름 core) 하위 파일들 수정하고(아래 참고) 가상환경에서 불러와서 모듈 임포트해서 해결"}]},{"type":"text","value":"\n        "},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"기본 가상환경(?) 만들어서 해도 되는데, 연결이 잘 안돼서 아니콘다에서 가상환경 만든 것 (로컬 python kernel 연결이 뭔가 꼬인 듯. 그냥 가상환경 만들어서 연결 잘 되면 아나콘다에서 안만들어도 됨)"}]},{"type":"text","value":"\n    "}]}]},{"type":"element","tag":"h4","props":{"id":"_11-아나콘다-가상환경-설정1"},"children":[{"type":"text","value":"1.1 아나콘다 가상환경 설정"},{"type":"element","tag":"sup","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#user-content-fn-1","ariaDescribedBy":["footnote-label"],"dataFootnoteRef":true,"id":"user-content-fnref-1"},"children":[{"type":"text","value":"1"}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"conda create -n wikibase python=3.7"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"가상환경 실행하기 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"conda activate wikibase"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"terminal이랑 jupyter notebook kernel이랑 둘다 가상환경으로 설정됐는지 확인해야 합니다."}]},{"type":"element","tag":"h2","props":{"id":"_2-github-repo만들어서-clone"},"children":[{"type":"text","value":"2. github repo만들어서 clone"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"clone한 폴더에 ipynb 파일 하나 만들고 가상환경 kerneldmfh 접속하기"}]}]},{"type":"element","tag":"h2","props":{"id":"_3-pywikibot-설치하기"},"children":[{"type":"text","value":"3. pywikibot 설치하기"}]},{"type":"element","tag":"h3","props":{"id":"_31-pywikibot-git-clone2"},"children":[{"type":"text","value":"3.1. pywikibot git clone"},{"type":"element","tag":"sup","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#user-content-fn-2","ariaDescribedBy":["footnote-label"],"dataFootnoteRef":true,"id":"user-content-fnref-2"},"children":[{"type":"text","value":"2"}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"git clone https://gerrit.wikimedia.org/r/pywikibot/core.git"}]}]}]},{"type":"element","tag":"h3","props":{"id":"_32-추가-설치하기"},"children":[{"type":"text","value":"3.2. 추가 설치하기"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pip install requests"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pip install -r requirements.txt"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"cd core 들어가서 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"git submodule update --init"}]},{"type":"text","value":" → 조금 오래걸립니다."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"python pwb.py login -all"}]},{"type":"text","value":" 이 코드를 치면 아래와 같은 화면이 출력되면서 새로 생성을 시작합니다.\n"},{"type":"element","tag":"img","props":{"src":"/images/blogImg/2023-03-15-3.png","width":"70%","title":"python pwb.py login -all","alt":"pwb.py"},"children":[]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"family 선택할 때 mediawiki로 진행"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"username, bot name, bot password 치고 나서 'Do you want to select framework setting sections?'과 'Do you want to select scripts setting sections?' 질문이 나왔을 때 다 a(전체 다 선택함) 누르면 "},{"type":"element","tag":"a","props":{"href":"http://user-config.py","rel":["nofollow"]},"children":[{"type":"text","value":"user-config.py"}]},{"type":"text","value":" 파일 생성 완료됩니다."}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"_33-coreuser-configpy-파일-수정하기"},"children":[{"type":"text","value":"3.3. core/user-config.py 파일 수정하기"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"http://user-config.py","rel":["nofollow"]},"children":[{"type":"text","value":"user-config.py"}]},{"type":"text","value":" 파일 잘 생성되었는지 확인합니다."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"추가 수정"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"family_files['wikipedia'] = '[http://localhost:4100/](http://localhost:4100/)'"}]},{"type":"text","value":" 추가 (port number는 직접 수정)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"password_file 경로 지정"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"mylang 에 다른 언어도 넣어주고 싶다면 똑같은 형식으로 넣으면 됨 (ex. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"mylnag = 'ko'"}]},{"type":"text","value":")\n"},{"type":"element","tag":"img","props":{"src":"/images/blogImg/2023-03-15-4.png","width":"70%","title":"user-config.py파일 수정","alt":"editUser-config"},"children":[]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"_34-coreuser-passwordpy-파일-수정하기"},"children":[{"type":"text","value":"3.4. core/user-password.py 파일 수정하기"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"형식이 아래와 다르게 저장되어 있을 수 있습니다. 아래와 같은 형식으로 수정하세요.\n"},{"type":"element","tag":"img","props":{"src":"/images/blogImg/2023-03-15-5.png","width":"70%","title":"user-password","alt":"user-password"},"children":[]}]}]},{"type":"element","tag":"h3","props":{"id":"_35-corepywikibotconfigpy-파일-수정하기"},"children":[{"type":"text","value":"3.5. core/pywikibot/config.py 파일 수정하기"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"user_config_file 변수에 get_user_confifg_file() 함수 쓰지 말고 그냥 "},{"type":"element","tag":"a","props":{"href":"http://user-config.py","rel":["nofollow"]},"children":[{"type":"text","value":"user-config.py"}]},{"type":"text","value":" 경로로 바로 넣어주세요.\n"},{"type":"element","tag":"img","props":{"src":"/images/blogImg/2023-03-15-6.png","width":"70%","title":"user-config-file","alt":"user-config-file"},"children":[]}]}]},{"type":"element","tag":"h2","props":{"id":"_4-ipynb-connect"},"children":[{"type":"text","value":"4. ipynb: CONNECT"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"지금부터는 python의 ipynb 파일에서 진행하는 내용입니다. 아래 코드들은 모두 이 깃헙"},{"type":"element","tag":"sup","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#user-content-fn-3","ariaDescribedBy":["footnote-label"],"dataFootnoteRef":true,"id":"user-content-fnref-3"},"children":[{"type":"text","value":"3"}]}]},{"type":"text","value":"을 참고하였습니다."}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"core의 경로를 sys.path에 추가"}]}]},{"type":"element","tag":"code","props":{"className":["language-python"],"code":"import sys\n\nsys.path.append('/Users/jeongyunl/Documents/GitHub/wikibaseIntegrator_jyl/core')\nprint(sys.path)\n","language":"python","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" sys\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"sys.path.append("}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'/Users/jeongyunl/Documents/GitHub/wikibaseIntegrator_jyl/core'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-363298"},"children":[{"type":"text","value":"print"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"(sys.path)"}]}]}]}]}]},{"type":"element","tag":"ol","props":{"start":2},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"local wikibase 연결하기"}]}]},{"type":"element","tag":"code","props":{"className":["language-python"],"code":"from wikibaseintegrator import WikibaseIntegrator\nfrom wikibaseintegrator.wbi_config import config as wbi_config\n\nwbi_config['MEDIAWIKI_API_URL'] = 'http://localhost:4100/w/api.php'\nwbi_config['SPARQL_ENDPOINT_URL'] = 'http://localhost:8834/proxy/wdqs/bigdata/namespace/wdq/sparql'\nwbi_config['WIKIBASE_URL'] = 'http://wikibase.svc'\nwbi_config['USER_AGENT'] = 'MyWikibaseBot/1.0 (https://www.wikidata.org/wiki/User:JeongYun Lee)'\n","language":"python","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" wikibaseintegrator "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" WikibaseIntegrator\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" wikibaseintegrator.wbi_config "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" config "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"as"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" wbi_config\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"wbi_config["}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'MEDIAWIKI_API_URL'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"] "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'http://localhost:4100/w/api.php'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"wbi_config["}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'SPARQL_ENDPOINT_URL'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"] "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'http://localhost:8834/proxy/wdqs/bigdata/namespace/wdq/sparql'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"wbi_config["}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'WIKIBASE_URL'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"] "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'http://wikibase.svc'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"wbi_config["}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'USER_AGENT'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"] "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'MyWikibaseBot/1.0 (https://www.wikidata.org/wiki/User:JeongYun Lee)'"}]}]}]}]}]},{"type":"element","tag":"ol","props":{"start":3},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"login"}]}]},{"type":"element","tag":"code","props":{"className":["language-python"],"code":"from wikibaseintegrator import wbi_login\n\nlogin_instance = wbi_login.Login(user='JeongYun Lee', password='*****', mediawiki_api_url='http://localhost:4100/w/api.php')\n","language":"python","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" wikibaseintegrator "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" wbi_login\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"login_instance "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" wbi_login.Login("}]},{"type":"element","tag":"span","props":{"class":"ct-402719"},"children":[{"type":"text","value":"user"}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'JeongYun Lee'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-402719"},"children":[{"type":"text","value":"password"}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'*****'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-402719"},"children":[{"type":"text","value":"mediawiki_api_url"}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'http://localhost:4100/w/api.php'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":")"}]}]}]}]}]},{"type":"element","tag":"ol","props":{"start":4},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"pywikibot install"}]}]},{"type":"element","tag":"code","props":{"className":["language-python"],"code":"\nimport pywikibot, json, csv, sys\nfrom pywikibot import family\n","language":"python","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" pywikibot, json, csv, sys\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" pywikibot "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" family"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"_5-ipynb-add-properties"},"children":[{"type":"text","value":"5. ipynb: ADD PROPERTIES"}]},{"type":"element","tag":"code","props":{"className":["language-python"],"code":"\"\"\"\n    Notes:\n    We need to remove the built in throttling because we\n    are working on our own localhost running wikibase, we don't\n    care if we do a ton of requests, we are likely the only user\n\"\"\"\n# over write it\ndef wait(self, seconds):\n    \"\"\"Wait for seconds seconds.\n    Announce the delay if it exceeds a preset limit.\n    \"\"\"\n    pass\n\npywikibot.throttle.Throttle.wait = wait\n\nif __name__ == \"__main__\":\n\n    csv_path = '/Users/jeongyunl/Documents/GitHub/wikibaseIntegrator_address_test2/testData/add_properties.csv'\n    csv_file = open(csv_path,'r', encoding='utf-8-sig')\n    csv_reader = csv.DictReader(csv_file)\n\n      ### 로그인 이미 했으므로 안해도 됨\n    site = pywikibot.Site('mediawiki:mediawiki')\n    #site.login()\n\n    complete_data = []\n\n    for row in csv_reader:\n        row = dict(row)\n\n        data = {\n            'datatype': row['Datatype'],  # mandatory\n            'descriptions': {\n                'ko': {\n                    'language': 'ko',\n                    'value': row['Property Description']\n                }\n            },\n            'labels': {\n                'ko': {\n                    'language': 'ko',\n                    'value': row['Property Label']\n                }\n            }\n        }\n\n        params = {\n            'action': 'wbeditentity',\n            'new': 'property',\n            'data': json.dumps(data),\n            'summary': 'bot adding in properties',\n            'token': site.tokens['csrf']\n            # 'token': site.tokens['edit']\n        }\n\n        req = site._simple_request(**params)\n        results = req.submit()\n\n        row['PID'] = results['entity']['id']\n\n        print(row['PID'], row['Property Label'])\n        complete_data.append(row)\n\n    csv_file.close()\n\n    with open(csv_path+'_updated.csv','w') as out:\n\n        fieldnames = list(complete_data[0].keys())\n        writer = csv.DictWriter(out, fieldnames=fieldnames)\n\n        writer.writeheader()\n        writer.writerows(complete_data)\n","language":"python","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"\"\"\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"    Notes:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"    We need to remove the built in throttling because we\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"    are working on our own localhost running wikibase, we don't\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"    care if we do a ton of requests, we are likely the only user\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"\"\"\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-068318"},"children":[{"type":"text","value":"# over write it\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-854774"},"children":[{"type":"text","value":"def"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-417962"},"children":[{"type":"text","value":"wait"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-341470"},"children":[{"type":"text","value":"self"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-341470"},"children":[{"type":"text","value":"seconds"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"):\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"\"\"\"Wait for seconds seconds.\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"    Announce the delay if it exceeds a preset limit.\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"    \"\"\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"pass\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"pywikibot.throttle.Throttle.wait "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" wait\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-869604"},"children":[{"type":"text","value":"__name__"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"=="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"\"__main__\""}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"    csv_path "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'/Users/jeongyunl/Documents/GitHub/wikibaseIntegrator_address_test2/testData/add_properties.csv'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"    csv_file "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-363298"},"children":[{"type":"text","value":"open"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"(csv_path,"}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'r'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-402719"},"children":[{"type":"text","value":"encoding"}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'utf-8-sig'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"    csv_reader "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" csv.DictReader(csv_file)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-068318"},"children":[{"type":"text","value":"### 로그인 이미 했으므로 안해도 됨\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"    site "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" pywikibot.Site("}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'mediawiki:mediawiki'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-068318"},"children":[{"type":"text","value":"#site.login()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"    complete_data "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" []\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":27},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":28},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"for"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" row "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"in"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" csv_reader:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":29},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        row "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-363297"},"children":[{"type":"text","value":"dict"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"(row)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":30},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":31},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        data "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":32},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'datatype'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":": row["}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'Datatype'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"],  "}]},{"type":"element","tag":"span","props":{"class":"ct-068318"},"children":[{"type":"text","value":"# mandatory\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":33},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'descriptions'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":": {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":34},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'ko'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":": {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":35},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                    "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'language'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'ko'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":36},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                    "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'value'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":": row["}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'Property Description'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":37},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":38},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":39},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'labels'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":": {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":40},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'ko'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":": {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":41},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                    "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'language'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'ko'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":42},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                    "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'value'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":": row["}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'Property Label'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":43},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":44},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":45},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":46},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":47},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        params "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":48},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'action'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'wbeditentity'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":49},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'new'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'property'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":50},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'data'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":": json.dumps(data),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":51},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'summary'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'bot adding in properties'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":52},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'token'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":": site.tokens["}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'csrf'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":53},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-068318"},"children":[{"type":"text","value":"# 'token': site.tokens['edit']\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":54},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":55},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":56},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        req "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" site._simple_request("}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"**"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"params)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":57},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        results "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" req.submit()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":58},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":59},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        row["}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'PID'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"] "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" results["}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'entity'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"]["}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'id'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":60},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":61},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-363298"},"children":[{"type":"text","value":"print"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"(row["}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'PID'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"], row["}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'Property Label'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":62},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        complete_data.append(row)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":63},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":64},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"    csv_file.close()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":65},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":66},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"with"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-363298"},"children":[{"type":"text","value":"open"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"(csv_path"}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'_updated.csv'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'w'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"as"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" out:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":67},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":68},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        fieldnames "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-363297"},"children":[{"type":"text","value":"list"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"(complete_data["}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"].keys())\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":69},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        writer "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" csv.DictWriter(out, "}]},{"type":"element","tag":"span","props":{"class":"ct-402719"},"children":[{"type":"text","value":"fieldnames"}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"fieldnames)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":70},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":71},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        writer.writeheader()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":72},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        writer.writerows(complete_data)"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"_6-ipynb-add-core-items"},"children":[{"type":"text","value":"6. ipynb: ADD CORE ITEMS"}]},{"type":"element","tag":"code","props":{"className":["language-python"],"code":"import wikidataintegrator as WI\nimport requests, csv, sys, re\n\n########## part1 ##########\nWI.wdi_core.WDItemEngine.core_props = {\n    'P50': {\n        'datatype': 'string',\n        'name': '식별자',\n        'domain': ['addresTerms'], # this is a wikidataintergrator thing, to group properties together\n        'core_id': True\n    }\n}\n\nuse_unique_property = 'P50:string'\n\nif __name__ == \"__main__\":\n\n    csv_path = '/Users/jeongyunl/Documents/Github/wikibaseintegrator_address_test2/testData/add_core_items.csv'\n    csv_file = open(csv_path,'r', encoding='utf-8-sig')\n    csv_reader = csv.DictReader(csv_file)\n\n    complete_data = []\n    errors_data = []\n\n    for row in csv_reader:\n        row = dict(row)\n\n        data = []\n\n        # properties stuff\n        for key in row:\n\n            # is it a property field\n            if key.find(':') > -1 and key[0] == \"P\":\n                PID, data_type = key.split(':')\n\n                # there are few other data types need to add...\n                try:\n                    if data_type.lower() == 'string':\n                        if row[key] is not None and row[key].strip() != '':\n                            statement = WI.wdi_core.WDString(value=row[key], prop_nr=PID)\n                            data.append(statement)\n                    elif data_type.lower() == 'url':\n                        if row[key] is not None and row[key].strip() != '':\n                            statement = WI.wdi_core.WDUrl(value=row[key], prop_nr=PID)\n                            data.append(statement)\n                    elif data_type.lower() == 'wikibase-item':\n                        if row[key] is not None and row[key].strip() != '':\n                            statement = WI.wdi_core.WDItemID(value=row[key], prop_nr=PID)\n                            data.append(statement)\n\n\n                except Exception as e:\n                    print(\"There was an error with this part1, skipping:\")\n                    print(row)\n                    print(e)\n                    errors_data.append(row)\n                    data = \"error\"\n\n        if data == 'error':\n            continue\n\n        if use_unique_property in row:\n            item_name = row[use_unique_property]\n        else:\n            item_name = None\n\n########## part2 ##########\n        domain = 'addresTerms'\n\n        try:\n            wd_item = WI.wdi_core.WDItemEngine(new_item=True, data=data, mediawiki_api_url=\"http://localhost:4100/w/api.php\")\n\n            # set the label and description if exists\n            if 'Label' in row:\n                if row['Label'] is not None and row['Label'].strip() != '':\n                    wd_item.set_label(row['Label'])\n\n            if 'Description' in row:\n                if row['Description'] is not None and row['Description'].strip() != '':\n                    wd_item.set_description(row['Description'])\n\n\n            # write\n            r = wd_item.write(login_instance)\n            print(\"goodbye!\")\n\n            # QID is returned\n            row['QID'] = r\n\n            print(row['QID'], row['Label'])\n\n\n            complete_data.append(row)\n\n        except Exception as e:\n            print(\"There was an error with this part2, skipping:\")\n            print(row)\n            print(e)\n            errors_data.append(row)\n            data = \"error\"\n\n    csv_file.close()\n\n    with open(csv_path+'_updated.csv','w') as out:\n\n        fieldnames = list(complete_data[0].keys())\n        writer = csv.DictWriter(out, fieldnames=fieldnames)\n\n        writer.writeheader()\n        writer.writerows(complete_data)\n\n    if len(errors_data) > 0:\n        with open(csv_path+'_errors.csv','w') as out:\n\n            fieldnames = list(errors_data[0].keys())\n            writer = csv.DictWriter(out, fieldnames=fieldnames)\n\n            writer.writeheader()\n            writer.writerows(errors_data)\n","language":"python","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" wikidataintegrator "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"as"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"WI\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" requests, csv, sys, re\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-068318"},"children":[{"type":"text","value":"########## part1 ##########\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"WI"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":".wdi_core.WDItemEngine.core_props "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'P50'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":": {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'datatype'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'string'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'name'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'식별자'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'domain'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":": ["}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'addresTerms'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"], "}]},{"type":"element","tag":"span","props":{"class":"ct-068318"},"children":[{"type":"text","value":"# this is a wikidataintergrator thing, to group properties together\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'core_id'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"True\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"use_unique_property "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'P50:string'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-869604"},"children":[{"type":"text","value":"__name__"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"=="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"\"__main__\""}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"    csv_path "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'/Users/jeongyunl/Documents/Github/wikibaseintegrator_address_test2/testData/add_core_items.csv'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"    csv_file "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-363298"},"children":[{"type":"text","value":"open"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"(csv_path,"}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'r'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-402719"},"children":[{"type":"text","value":"encoding"}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'utf-8-sig'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"    csv_reader "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" csv.DictReader(csv_file)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"    complete_data "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" []\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"    errors_data "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" []\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"for"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" row "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"in"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" csv_reader:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        row "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-363297"},"children":[{"type":"text","value":"dict"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"(row)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":27},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":28},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        data "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" []\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":29},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":30},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-068318"},"children":[{"type":"text","value":"# properties stuff\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":31},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"for"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" key "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"in"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" row:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":32},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":33},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-068318"},"children":[{"type":"text","value":"# is it a property field\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":34},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" key.find("}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"':'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"and"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" key["}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"] "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"=="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"\"P\""}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":35},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                "}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"PID"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":", data_type "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" key.split("}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"':'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":36},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":37},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                "}]},{"type":"element","tag":"span","props":{"class":"ct-068318"},"children":[{"type":"text","value":"# there are few other data types need to add...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":38},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"try"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":39},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                    "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" data_type.lower() "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"=="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'string'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":40},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                        "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" row[key] "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"is"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"not"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"None"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"and"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" row[key].strip() "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"!="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"''"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":41},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                            statement "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"WI"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":".wdi_core.WDString("}]},{"type":"element","tag":"span","props":{"class":"ct-402719"},"children":[{"type":"text","value":"value"}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"row[key], "}]},{"type":"element","tag":"span","props":{"class":"ct-402719"},"children":[{"type":"text","value":"prop_nr"}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"PID"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":42},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                            data.append(statement)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":43},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                    "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"elif"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" data_type.lower() "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"=="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'url'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":44},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                        "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" row[key] "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"is"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"not"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"None"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"and"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" row[key].strip() "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"!="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"''"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":45},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                            statement "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"WI"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":".wdi_core.WDUrl("}]},{"type":"element","tag":"span","props":{"class":"ct-402719"},"children":[{"type":"text","value":"value"}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"row[key], "}]},{"type":"element","tag":"span","props":{"class":"ct-402719"},"children":[{"type":"text","value":"prop_nr"}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"PID"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":46},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                            data.append(statement)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":47},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                    "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"elif"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" data_type.lower() "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"=="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'wikibase-item'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":48},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                        "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" row[key] "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"is"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"not"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"None"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"and"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" row[key].strip() "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"!="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"''"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":49},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                            statement "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"WI"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":".wdi_core.WDItemID("}]},{"type":"element","tag":"span","props":{"class":"ct-402719"},"children":[{"type":"text","value":"value"}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"row[key], "}]},{"type":"element","tag":"span","props":{"class":"ct-402719"},"children":[{"type":"text","value":"prop_nr"}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"PID"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":50},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                            data.append(statement)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":51},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":52},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":53},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"except"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-363297"},"children":[{"type":"text","value":"Exception"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"as"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" e:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":54},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                    "}]},{"type":"element","tag":"span","props":{"class":"ct-363298"},"children":[{"type":"text","value":"print"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"\"There was an error with this part1, skipping:\""}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":55},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                    "}]},{"type":"element","tag":"span","props":{"class":"ct-363298"},"children":[{"type":"text","value":"print"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"(row)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":56},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                    "}]},{"type":"element","tag":"span","props":{"class":"ct-363298"},"children":[{"type":"text","value":"print"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"(e)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":57},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                    errors_data.append(row)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":58},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                    data "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"\"error\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":59},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":60},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" data "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"=="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'error'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":61},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"continue\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":62},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":63},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" use_unique_property "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"in"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" row:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":64},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            item_name "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" row[use_unique_property]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":65},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"else"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":66},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            item_name "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"None\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":67},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":68},"children":[{"type":"element","tag":"span","props":{"class":"ct-068318"},"children":[{"type":"text","value":"########## part2 ##########\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":69},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        domain "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'addresTerms'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":70},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":71},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"try"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":72},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            wd_item "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"WI"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":".wdi_core.WDItemEngine("}]},{"type":"element","tag":"span","props":{"class":"ct-402719"},"children":[{"type":"text","value":"new_item"}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"True"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-402719"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"data, "}]},{"type":"element","tag":"span","props":{"class":"ct-402719"},"children":[{"type":"text","value":"mediawiki_api_url"}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"\"http://localhost:4100/w/api.php\""}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":73},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":74},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-068318"},"children":[{"type":"text","value":"# set the label and description if exists\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":75},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'Label'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"in"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" row:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":76},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" row["}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'Label'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"] "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"is"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"not"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"None"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"and"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" row["}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'Label'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"].strip() "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"!="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"''"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":77},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                    wd_item.set_label(row["}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'Label'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":78},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":79},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'Description'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"in"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" row:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":80},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" row["}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'Description'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"] "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"is"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"not"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"None"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"and"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" row["}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'Description'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"].strip() "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"!="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"''"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":81},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                    wd_item.set_description(row["}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'Description'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":82},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":83},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":84},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-068318"},"children":[{"type":"text","value":"# write\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":85},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            r "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" wd_item.write(login_instance)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":86},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-363298"},"children":[{"type":"text","value":"print"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"\"goodbye!\""}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":87},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":88},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-068318"},"children":[{"type":"text","value":"# QID is returned\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":89},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            row["}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'QID'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"] "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" r\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":90},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":91},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-363298"},"children":[{"type":"text","value":"print"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"(row["}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'QID'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"], row["}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'Label'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":92},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":93},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":94},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            complete_data.append(row)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":95},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":96},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"except"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-363297"},"children":[{"type":"text","value":"Exception"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"as"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" e:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":97},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-363298"},"children":[{"type":"text","value":"print"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"\"There was an error with this part2, skipping:\""}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":98},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-363298"},"children":[{"type":"text","value":"print"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"(row)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":99},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-363298"},"children":[{"type":"text","value":"print"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"(e)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":100},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            errors_data.append(row)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":101},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            data "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"\"error\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":102},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":103},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"    csv_file.close()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":104},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":105},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"with"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-363298"},"children":[{"type":"text","value":"open"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"(csv_path"}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'_updated.csv'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'w'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"as"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" out:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":106},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":107},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        fieldnames "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-363297"},"children":[{"type":"text","value":"list"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"(complete_data["}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"].keys())\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":108},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        writer "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" csv.DictWriter(out, "}]},{"type":"element","tag":"span","props":{"class":"ct-402719"},"children":[{"type":"text","value":"fieldnames"}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"fieldnames)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":109},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":110},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        writer.writeheader()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":111},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        writer.writerows(complete_data)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":112},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":113},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-363298"},"children":[{"type":"text","value":"len"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"(errors_data) "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":114},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"with"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-363298"},"children":[{"type":"text","value":"open"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"(csv_path"}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'_errors.csv'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'w'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"as"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" out:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":115},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":116},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            fieldnames "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-363297"},"children":[{"type":"text","value":"list"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"(errors_data["}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"].keys())\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":117},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            writer "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" csv.DictWriter(out, "}]},{"type":"element","tag":"span","props":{"class":"ct-402719"},"children":[{"type":"text","value":"fieldnames"}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"fieldnames)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":118},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":119},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            writer.writeheader()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":120},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            writer.writerows(errors_data)"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"_7-ipynb-add-items"},"children":[{"type":"text","value":"7. ipynb: ADD ITEMS"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"ADD CORE ITEMS와 코드 동일함"}]},{"type":"element","tag":"code","props":{"className":["language-python"],"code":"import wikidataintegrator as WI\nimport requests, csv, sys, re\n\n########## part1 ##########\nWI.wdi_core.WDItemEngine.core_props = {\n    'P50': {\n        'datatype': 'string',\n        'name': '식별자',\n        'domain': ['addresTerms'], # this is a wikidataintergrator thing, to group properties together\n        'core_id': True\n    }\n}\n\nuse_unique_property = 'P8:string'\n\nif __name__ == \"__main__\":\n\n    csv_path = '/Users/jeongyunl/Documents/Github/wikibaseintegrator_address_test2/testData/add_core_items.csv'\n    csv_file = open(csv_path,'r', encoding='utf-8-sig')\n    csv_reader = csv.DictReader(csv_file)\n\n    complete_data = []\n    errors_data = []\n\n    for row in csv_reader:\n        row = dict(row)\n\n        data = []\n\n        # properties stuff\n        for key in row:\n\n            # is it a property field\n            if key.find(':') > -1 and key[0] == \"P\":\n                PID, data_type = key.split(':')\n\n                # there are few other data types need to add...\n                try:\n                    if data_type.lower() == 'string':\n                        if row[key] is not None and row[key].strip() != '':\n                            statement = WI.wdi_core.WDString(value=row[key], prop_nr=PID)\n                            data.append(statement)\n                    elif data_type.lower() == 'url':\n                        if row[key] is not None and row[key].strip() != '':\n                            statement = WI.wdi_core.WDUrl(value=row[key], prop_nr=PID)\n                            data.append(statement)\n                    elif data_type.lower() == 'wikibase-item':\n                        if row[key] is not None and row[key].strip() != '':\n                            statement = WI.wdi_core.WDItemID(value=row[key], prop_nr=PID)\n                            data.append(statement)\n\n\n                except Exception as e:\n                    print(\"There was an error with this part1, skipping:\")\n                    print(row)\n                    print(e)\n                    errors_data.append(row)\n                    data = \"error\"\n\n        if data == 'error':\n            continue\n\n        if use_unique_property in row:\n            item_name = row[use_unique_property]\n        else:\n            item_name = None\n\n########## part2 ##########\n        domain = 'addresTerms'\n\n        try:\n            wd_item = WI.wdi_core.WDItemEngine(new_item=True, data=data, mediawiki_api_url=\"http://localhost:4100/w/api.php\")\n\n            # set the label and description if exists\n            if 'Label' in row:\n                if row['Label'] is not None and row['Label'].strip() != '':\n                    wd_item.set_label(row['Label'])\n\n            if 'Description' in row:\n                if row['Description'] is not None and row['Description'].strip() != '':\n                    wd_item.set_description(row['Description'])\n\n\n            # write\n            r = wd_item.write(login_instance)\n            print(\"goodbye!\")\n\n            # QID is returned\n            row['QID'] = r\n\n            print(row['QID'], row['Label'])\n\n\n            complete_data.append(row)\n\n        except Exception as e:\n            print(\"There was an error with this part2, skipping:\")\n            print(row)\n            print(e)\n            errors_data.append(row)\n            data = \"error\"\n\n    csv_file.close()\n\n    with open(csv_path+'_updated.csv','w') as out:\n\n        fieldnames = list(complete_data[0].keys())\n        writer = csv.DictWriter(out, fieldnames=fieldnames)\n\n        writer.writeheader()\n        writer.writerows(complete_data)\n\n    if len(errors_data) > 0:\n        with open(csv_path+'_errors.csv','w') as out:\n\n            fieldnames = list(errors_data[0].keys())\n            writer = csv.DictWriter(out, fieldnames=fieldnames)\n\n            writer.writeheader()\n            writer.writerows(errors_data)\n","language":"python","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" wikidataintegrator "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"as"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"WI\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" requests, csv, sys, re\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-068318"},"children":[{"type":"text","value":"########## part1 ##########\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"WI"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":".wdi_core.WDItemEngine.core_props "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'P50'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":": {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'datatype'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'string'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'name'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'식별자'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'domain'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":": ["}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'addresTerms'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"], "}]},{"type":"element","tag":"span","props":{"class":"ct-068318"},"children":[{"type":"text","value":"# this is a wikidataintergrator thing, to group properties together\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'core_id'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"True\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"use_unique_property "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'P8:string'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-869604"},"children":[{"type":"text","value":"__name__"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"=="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"\"__main__\""}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"    csv_path "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'/Users/jeongyunl/Documents/Github/wikibaseintegrator_address_test2/testData/add_core_items.csv'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"    csv_file "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-363298"},"children":[{"type":"text","value":"open"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"(csv_path,"}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'r'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-402719"},"children":[{"type":"text","value":"encoding"}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'utf-8-sig'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"    csv_reader "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" csv.DictReader(csv_file)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"    complete_data "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" []\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"    errors_data "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" []\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"for"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" row "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"in"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" csv_reader:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        row "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-363297"},"children":[{"type":"text","value":"dict"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"(row)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":27},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":28},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        data "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" []\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":29},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":30},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-068318"},"children":[{"type":"text","value":"# properties stuff\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":31},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"for"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" key "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"in"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" row:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":32},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":33},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-068318"},"children":[{"type":"text","value":"# is it a property field\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":34},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" key.find("}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"':'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"and"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" key["}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"] "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"=="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"\"P\""}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":35},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                "}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"PID"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":", data_type "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" key.split("}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"':'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":36},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":37},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                "}]},{"type":"element","tag":"span","props":{"class":"ct-068318"},"children":[{"type":"text","value":"# there are few other data types need to add...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":38},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"try"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":39},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                    "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" data_type.lower() "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"=="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'string'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":40},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                        "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" row[key] "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"is"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"not"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"None"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"and"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" row[key].strip() "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"!="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"''"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":41},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                            statement "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"WI"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":".wdi_core.WDString("}]},{"type":"element","tag":"span","props":{"class":"ct-402719"},"children":[{"type":"text","value":"value"}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"row[key], "}]},{"type":"element","tag":"span","props":{"class":"ct-402719"},"children":[{"type":"text","value":"prop_nr"}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"PID"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":42},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                            data.append(statement)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":43},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                    "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"elif"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" data_type.lower() "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"=="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'url'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":44},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                        "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" row[key] "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"is"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"not"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"None"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"and"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" row[key].strip() "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"!="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"''"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":45},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                            statement "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"WI"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":".wdi_core.WDUrl("}]},{"type":"element","tag":"span","props":{"class":"ct-402719"},"children":[{"type":"text","value":"value"}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"row[key], "}]},{"type":"element","tag":"span","props":{"class":"ct-402719"},"children":[{"type":"text","value":"prop_nr"}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"PID"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":46},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                            data.append(statement)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":47},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                    "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"elif"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" data_type.lower() "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"=="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'wikibase-item'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":48},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                        "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" row[key] "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"is"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"not"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"None"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"and"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" row[key].strip() "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"!="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"''"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":49},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                            statement "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"WI"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":".wdi_core.WDItemID("}]},{"type":"element","tag":"span","props":{"class":"ct-402719"},"children":[{"type":"text","value":"value"}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"row[key], "}]},{"type":"element","tag":"span","props":{"class":"ct-402719"},"children":[{"type":"text","value":"prop_nr"}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"PID"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":50},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                            data.append(statement)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":51},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":52},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":53},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"except"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-363297"},"children":[{"type":"text","value":"Exception"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"as"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" e:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":54},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                    "}]},{"type":"element","tag":"span","props":{"class":"ct-363298"},"children":[{"type":"text","value":"print"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"\"There was an error with this part1, skipping:\""}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":55},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                    "}]},{"type":"element","tag":"span","props":{"class":"ct-363298"},"children":[{"type":"text","value":"print"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"(row)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":56},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                    "}]},{"type":"element","tag":"span","props":{"class":"ct-363298"},"children":[{"type":"text","value":"print"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"(e)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":57},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                    errors_data.append(row)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":58},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                    data "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"\"error\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":59},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":60},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" data "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"=="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'error'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":61},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"continue\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":62},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":63},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" use_unique_property "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"in"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" row:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":64},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            item_name "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" row[use_unique_property]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":65},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"else"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":66},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            item_name "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"None\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":67},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":68},"children":[{"type":"element","tag":"span","props":{"class":"ct-068318"},"children":[{"type":"text","value":"########## part2 ##########\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":69},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        domain "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'addresTerms'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":70},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":71},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"try"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":72},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            wd_item "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"WI"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":".wdi_core.WDItemEngine("}]},{"type":"element","tag":"span","props":{"class":"ct-402719"},"children":[{"type":"text","value":"new_item"}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"True"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-402719"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"data, "}]},{"type":"element","tag":"span","props":{"class":"ct-402719"},"children":[{"type":"text","value":"mediawiki_api_url"}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"\"http://localhost:4100/w/api.php\""}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":73},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":74},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-068318"},"children":[{"type":"text","value":"# set the label and description if exists\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":75},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'Label'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"in"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" row:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":76},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" row["}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'Label'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"] "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"is"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"not"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"None"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"and"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" row["}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'Label'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"].strip() "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"!="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"''"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":77},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                    wd_item.set_label(row["}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'Label'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":78},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":79},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'Description'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"in"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" row:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":80},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" row["}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'Description'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"] "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"is"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"not"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"None"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"and"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" row["}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'Description'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"].strip() "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"!="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"''"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":81},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"                    wd_item.set_description(row["}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'Description'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":82},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":83},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":84},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-068318"},"children":[{"type":"text","value":"# write\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":85},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            r "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" wd_item.write(login_instance)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":86},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-363298"},"children":[{"type":"text","value":"print"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"\"goodbye!\""}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":87},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":88},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-068318"},"children":[{"type":"text","value":"# QID is returned\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":89},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            row["}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'QID'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"] "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" r\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":90},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":91},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-363298"},"children":[{"type":"text","value":"print"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"(row["}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'QID'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"], row["}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'Label'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":92},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":93},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":94},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            complete_data.append(row)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":95},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":96},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"except"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-363297"},"children":[{"type":"text","value":"Exception"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"as"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" e:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":97},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-363298"},"children":[{"type":"text","value":"print"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"\"There was an error with this part2, skipping:\""}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":98},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-363298"},"children":[{"type":"text","value":"print"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"(row)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":99},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            "}]},{"type":"element","tag":"span","props":{"class":"ct-363298"},"children":[{"type":"text","value":"print"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"(e)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":100},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            errors_data.append(row)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":101},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            data "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"\"error\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":102},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":103},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"    csv_file.close()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":104},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":105},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"with"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-363298"},"children":[{"type":"text","value":"open"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"(csv_path"}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'_updated.csv'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'w'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"as"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" out:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":106},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":107},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        fieldnames "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-363297"},"children":[{"type":"text","value":"list"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"(complete_data["}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"].keys())\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":108},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        writer "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" csv.DictWriter(out, "}]},{"type":"element","tag":"span","props":{"class":"ct-402719"},"children":[{"type":"text","value":"fieldnames"}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"fieldnames)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":109},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":110},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        writer.writeheader()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":111},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        writer.writerows(complete_data)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":112},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":113},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-363298"},"children":[{"type":"text","value":"len"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"(errors_data) "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":114},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"with"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-363298"},"children":[{"type":"text","value":"open"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"(csv_path"}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'_errors.csv'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-169668"},"children":[{"type":"text","value":"'w'"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"as"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" out:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":115},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":116},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            fieldnames "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-363297"},"children":[{"type":"text","value":"list"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"(errors_data["}]},{"type":"element","tag":"span","props":{"class":"ct-360247"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"].keys())\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":117},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            writer "}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":" csv.DictWriter(out, "}]},{"type":"element","tag":"span","props":{"class":"ct-402719"},"children":[{"type":"text","value":"fieldnames"}]},{"type":"element","tag":"span","props":{"class":"ct-794887"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"fieldnames)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":118},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":119},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            writer.writeheader()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":120},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"            writer.writerows(errors_data)"}]}]}]}]}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"section","props":{"className":["footnotes"],"dataFootnotes":true},"children":[{"type":"element","tag":"h2","props":{"id":"footnote-label","className":["sr-only"]},"children":[{"type":"text","value":"Footnotes"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{"id":"user-content-fn-1"},"children":[{"type":"element","tag":"a","props":{"href":"https://sdc-james.gitbook.io/onebook/2./2.1./2.1.1./2-conda-virtual-environments","rel":["nofollow"]},"children":[{"type":"text","value":"OneBook, conda에서 파이썬 가상 환경 (virtual environments) 생성하기"}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"#user-content-fnref-1","ariaLabel":"Back to content","className":["data-footnote-backref"],"dataFootnoteBackref":true},"children":[{"type":"text","value":"↩"}]}]},{"type":"element","tag":"li","props":{"id":"user-content-fn-2"},"children":[{"type":"text","value":"깃헙 가이드 참고: "},{"type":"element","tag":"a","props":{"href":"https://github.com/wikimedia/pywikibot","rel":["nofollow"]},"children":[{"type":"text","value":"https://github.com/wikimedia/pywikibot"}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"#user-content-fnref-2","ariaLabel":"Back to content","className":["data-footnote-backref"],"dataFootnoteBackref":true},"children":[{"type":"text","value":"↩"}]}]},{"type":"element","tag":"li","props":{"id":"user-content-fn-3"},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/SemanticLab/data-2-wikibase","rel":["nofollow"]},"children":[{"type":"text","value":"SemanticLab/data-2-wikibase"}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"#user-content-fnref-3","ariaLabel":"Back to content","className":["data-footnote-backref"],"dataFootnoteBackref":true},"children":[{"type":"text","value":"↩"}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-794887{color:#CF222E;}\n.dark .ct-794887{color:#FF7B72;}\n.sepia .ct-794887{color:#F92672;}\n.ct-836158{color:#24292F;}\n.dark .ct-836158{color:#C9D1D9;}\n.sepia .ct-836158{color:#F8F8F2;}\n.ct-169668{color:#0A3069;}\n.dark .ct-169668{color:#A5D6FF;}\n.sepia .ct-169668{color:#E6DB74;}\n.ct-363298{color:#0550AE;}\n.dark .ct-363298{color:#79C0FF;}\n.sepia .ct-363298{color:#66D9EF;}\n.ct-402719{color:#953800;}\n.dark .ct-402719{color:#FFA657;}\n.sepia .ct-402719{color:#FD971F;font-style:italic;}\n.ct-068318{color:#6E7781;}\n.dark .ct-068318{color:#8B949E;}\n.sepia .ct-068318{color:#88846F;}\n.ct-854774{color:#CF222E;}\n.dark .ct-854774{color:#FF7B72;}\n.sepia .ct-854774{color:#66D9EF;font-style:italic;}\n.ct-417962{color:#8250DF;}\n.dark .ct-417962{color:#D2A8FF;}\n.sepia .ct-417962{color:#A6E22E;}\n.ct-341470{color:#24292F;}\n.dark .ct-341470{color:#C9D1D9;}\n.sepia .ct-341470{color:#FD971F;font-style:italic;}\n.ct-869604{color:#0550AE;}\n.dark .ct-869604{color:#79C0FF;}\n.sepia .ct-869604{color:#F8F8F2;}\n.ct-363297{color:#0550AE;}\n.dark .ct-363297{color:#79C0FF;}\n.sepia .ct-363297{color:#66D9EF;font-style:italic;}\n.ct-360247{color:#0550AE;}\n.dark .ct-360247{color:#79C0FF;}\n.sepia .ct-360247{color:#AE81FF;}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"depth":3,"text":"❝"},{"depth":3,"text":"2023-08-12에 수정된 문서 입니다"},{"depth":3,"text":"❞"},{"id":"_1-가상환경-설정","depth":2,"text":"1. 가상환경 설정"},{"id":"_2-github-repo만들어서-clone","depth":2,"text":"2. github repo만들어서 clone"},{"id":"_3-pywikibot-설치하기","depth":2,"text":"3. pywikibot 설치하기","children":[{"id":"_31-pywikibot-git-clone2","depth":3,"text":"3.1. pywikibot git clone2"},{"id":"_32-추가-설치하기","depth":3,"text":"3.2. 추가 설치하기"},{"id":"_33-coreuser-configpy-파일-수정하기","depth":3,"text":"3.3. core/user-config.py 파일 수정하기"},{"id":"_34-coreuser-passwordpy-파일-수정하기","depth":3,"text":"3.4. core/user-password.py 파일 수정하기"},{"id":"_35-corepywikibotconfigpy-파일-수정하기","depth":3,"text":"3.5. core/pywikibot/config.py 파일 수정하기"}]},{"id":"_4-ipynb-connect","depth":2,"text":"4. ipynb: CONNECT"},{"id":"_5-ipynb-add-properties","depth":2,"text":"5. ipynb: ADD PROPERTIES"},{"id":"_6-ipynb-add-core-items","depth":2,"text":"6. ipynb: ADD CORE ITEMS"},{"id":"_7-ipynb-add-items","depth":2,"text":"7. ipynb: ADD ITEMS"},{"id":"footnote-label","depth":2,"text":"Footnotes"}]}},"_type":"markdown","_id":"content:blog:2023-03-15-wikibabeIntegrator.md","_source":"content","_file":"blog/2023-03-15-wikibabeIntegrator.md","_extension":"md"}