{"_path":"/blog/2023-03-10-wikibase","_dir":"blog","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"<Mediawiki-1> Docker로 Wikibase 설치하기","description":"","date":"2023-03-10","tags":["Wikibase","Docker"],"draft":false,"summary":"Docker로 Wikibase 설치하는 방법을 알아봅니다.","body":{"type":"root","children":[{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"환경: MacOS (M2)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"docker 환경설정은 이미 되어 있는 것으로 가정"}]}]}]},{"type":"element","tag":"h2","props":{"id":"_1-docker-composer-v"},"children":[{"type":"text","value":"1. docker composer -v"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Window와 Mac은 docker desktop을 설치하면 자동으로 docker compose가 설정됩니다. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"docker-compose -v"}]},{"type":"text","value":" 혹은 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"docker-compose --version"}]},{"type":"text","value":" 을 실행했을 때 버전이 제대로 나오면 된다."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"(만약 '/usr/local/bin/docker-compose: line 1: Not: command not found' 이런 에러가 계속 나온다면 docker desktop 버전 업데이트 하면 됨.)"}]},{"type":"element","tag":"h2","props":{"id":"_2-wikibase-repo-클론"},"children":[{"type":"text","value":"2. wikibase repo 클론"}]},{"type":"element","tag":"code","props":{"className":["language-md"],"code":"git clone https://github.com/wmde/wikibase-release-pipeline.git\n","language":"md","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"git clone https://github.com/wmde/wikibase-release-pipeline.git"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"깃헙 "},{"type":"element","tag":"a","props":{"href":"https://github.com/wmde/wikibase-release-pipeline","rel":["nofollow"]},"children":[{"type":"text","value":"wikibase-integrator-pipeline"}]},{"type":"text","value":" 레포를 클론합니다."}]},{"type":"element","tag":"h2","props":{"id":"_3-env-파일-수정하기"},"children":[{"type":"text","value":"3. .env 파일 수정하기"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"클론한 폴더 중 example 폴더 안에 'template.env'파일이 있을 것이다. 이 파일을 복사하고 이름을 '.env'로 바꿔준다. (맥에서는 .env 파일로 이름을 바꾸면 로컬에서 보이지 않을 수 있음. 필자는 code editor인 vscode에서 진행함)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":".env 파일에서 수정해줘야 할 부분은 다음과 같다. 필요에 따라 수정하거나 수정하지 않아도 되지만, 이후 wikibase를 사용할 때에도 해당 정보를 알고 있어야 한다."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"MW_ADMIN_PASS"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"MW_ADMIN_NAME"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"MW_ADMIN_EMAIL"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"MW_SECRET_KEY"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"WIKIBASE_PORT"}]}]},{"type":"element","tag":"h2","props":{"id":"_4-docker-container-생성하기"},"children":[{"type":"text","value":"4. docker container 생성하기"}]},{"type":"element","tag":"code","props":{"className":["language-md"],"code":"docker-compose up -d\n","language":"md","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"docker-compose up -d"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"-d 옵션은 는 백그라운드에서 실행하는 것을 의미한다.\n설치가 완료 된 뒤 추가적으로 quickstatements, elasticsearch 등을 설치하기 위해 다음 코드를 실행한다."}]},{"type":"element","tag":"code","props":{"className":["language-md"],"code":"docker-compose -f docker-compose.yml -f docker-compose.extra.yml up -d\n","language":"md","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-836158"},"children":[{"type":"text","value":"docker-compose -f docker-compose.yml -f docker-compose.extra.yml up -d"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"docker","src":"/images/blogImg/2023-03-10-2.png"},"children":[]}]},{"type":"element","tag":"h2","props":{"id":"_5-실행"},"children":[{"type":"text","value":"5. 실행"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"설정한 포트 넘버로(localhost:####) 실행했을 때 상단의 화면과 같이 실행되면 성공!"}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-836158{color:#24292F;}\n.dark .ct-836158{color:#C9D1D9;}\n.sepia .ct-836158{color:#F8F8F2;}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"_1-docker-composer-v","depth":2,"text":"1. docker composer -v"},{"id":"_2-wikibase-repo-클론","depth":2,"text":"2. wikibase repo 클론"},{"id":"_3-env-파일-수정하기","depth":2,"text":"3. .env 파일 수정하기"},{"id":"_4-docker-container-생성하기","depth":2,"text":"4. docker container 생성하기"},{"id":"_5-실행","depth":2,"text":"5. 실행"}]}},"_type":"markdown","_id":"content:blog:2023-03-10-wikibase.md","_source":"content","_file":"blog/2023-03-10-wikibase.md","_extension":"md"}