import{C as e,Ct as t,E as n,F as r,Mt as i,P as a,Q as o,Qt as s,W as c,X as l,Y as u,_ as d,bt as f,c as p,ct as m,dt as h,en as g,ft as _,g as v,gt as y,h as b,l as x,lt as S,m as C,mt as w,t as ee,tn as T,v as E,w as D,xt as O}from"./vendor/json-editor-vue-jlmu1vk1.js";import"./ready-mmkdpbhg.js";import{h as k}from"./dist-h291wass.js";import"./nuxt-h34yfo3l.js";import"./head-k6pu038r.js";import{B as A,S as j,c as te,f as M}from"./state-b65zn1p8.js";import{U as ne,g as N,k as P,r as re,t as ie}from"./client-ea5fdhj9.js";import"./vendor/shiki-jnavg768.js";import{t as F}from"./storage-options-os0x8zby.js";import"./dev-auth-jrf61eu0.js";import"./nuxt-link-lrojf3ui.js";import{t as ae}from"./nicon-j0r9gdjm.js";import{t as oe}from"./nbutton-m0kqfedx.js";import{t as I}from"./ncard-qqqgbjy9.js";import{t as L}from"./state-routes-ovtjymzc.js";import{t as se}from"./telemetry-pccqt90w.js";import{t as ce}from"./npanel-grids-m4ogaoh1.js";import{t as le}from"./ntext-input-ozkk5xro.js";import{c as ue,d as de,h as fe,s as pe,u as me}from"#entry";import{t as he}from"./nselect-ne66fzrs.js";import"./client-lfu9nb62.js";import{t as ge}from"./ncode-block-o9sq6td7.js";import{t as R}from"./ndrawer-ufyhcx08.js";import"./composables-k2ak4j8d.js";import"./ncheckbox-knbe2cxv.js";import{t as z}from"./nnavbar-b0i34u17.js";import"./nicon-title-ggx25xp9.js";import{t as B}from"./nsection-block-dzbgwc4z.js";import{t as _e}from"./code-snippets-c0ulfayj.js";import{n as ve,t as ye}from"./constants-ihoovckn.js";import{t as be}from"./nbadge-h59v1exj.js";import{t as xe}from"./data-schema-button-fk6ozqve.js";import{t as Se}from"./server-route-inputs-heqgxrjl.js";var V=n({__name:`ServerRouteListItem`,props:{item:{},index:{default:0}},setup(n){let r=t(!0),a=L();return(t,o)=>{let f=ae,m=be,h=H;return c(),E(`div`,null,[b(`button`,{flex:`~ gap-2`,"w-full":``,"items-start":``,"items-center":``,px2:``,py1:``,"hover-bg-active":``,class:s([{"bg-active":i(a)===n.item.filepath}]),style:g({paddingLeft:`calc(0.5rem + ${n.index*1.5}em)`}),onClick:o[0]||=e=>{r.value=!r.value,a.value=n.item.filepath}},[b(`div`,{class:s({"w-12":!n.item.routes}),"flex-none":``,"text-left":``},[n.item.type===`collection`?(c(),v(f,{key:0,icon:`carbon:chevron-right`,"mb0.5":``,"transform-rotate":r.value?90:0,transition:``},null,8,[`transform-rotate`])):(c(),v(m,{key:1,class:s(i(j)(n.item.method||`*`)),textContent:T((n.item.method||`*`).toUpperCase())},null,8,[`class`,`textContent`]))],2),b(`span`,{class:s({"flex items-center":n.item.routes}),"text-sm":``,"font-mono":``},[n.item.type===`collection`?(c(),v(f,{key:0,title:`${n.item.routes?.length} routes`,icon:`carbon:folder`,mr1:``},null,8,[`title`])):d(``,!0),e(` `+T(n.item.route),1)],2)],6),o[1]||=b(`div`,{"x-divider":``},null,-1),r.value?l(t.$slots,`default`,{key:0},()=>[(c(!0),E(p,null,u(n.item.routes,e=>(c(),v(h,{key:e.filepath,item:e,index:n.index+1},null,8,[`item`,`index`]))),128))]):d(``,!0)])}}}),H=Object.assign(V,{__name:`ServerRouteListItem`});function U(e,t){if(typeof e!=`string`)throw TypeError(`argument str must be a string`);let n={},r=t||{},i=r.decode||Ce,a=0;for(;a<e.length;){let t=e.indexOf(`=`,a);if(t===-1)break;let o=e.indexOf(`;`,a);if(o===-1)o=e.length;else if(o<t){a=e.lastIndexOf(`;`,t-1)+1;continue}let s=e.slice(a,t).trim();if(r?.filter&&!r?.filter(s)){a=o+1;continue}if(n[s]===void 0){let r=e.slice(t+1,o).trim();r.codePointAt(0)===34&&(r=r.slice(1,-1)),n[s]=W(r,i)}a=o+1}return n}function Ce(e){return e.includes(`%`)?decodeURIComponent(e):e}function W(e,t){try{return t(e)}catch{return e}}var G=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function we(e,t,n){let r=n||{},i=r.encode||encodeURIComponent;if(typeof i!=`function`)throw TypeError(`option encode is invalid`);if(!G.test(e))throw TypeError(`argument name is invalid`);let a=i(t);if(a&&!G.test(a))throw TypeError(`argument val is invalid`);let o=e+`=`+a;if(r.maxAge!==void 0&&r.maxAge!==null){let e=r.maxAge-0;if(Number.isNaN(e)||!Number.isFinite(e))throw TypeError(`option maxAge is invalid`);o+=`; Max-Age=`+Math.floor(e)}if(r.domain){if(!G.test(r.domain))throw TypeError(`option domain is invalid`);o+=`; Domain=`+r.domain}if(r.path){if(!G.test(r.path))throw TypeError(`option path is invalid`);o+=`; Path=`+r.path}if(r.expires){if(!Te(r.expires)||Number.isNaN(r.expires.valueOf()))throw TypeError(`option expires is invalid`);o+=`; Expires=`+r.expires.toUTCString()}if(r.httpOnly&&(o+=`; HttpOnly`),r.secure&&(o+=`; Secure`),r.priority)switch(typeof r.priority==`string`?r.priority.toLowerCase():r.priority){case`low`:o+=`; Priority=Low`;break;case`medium`:o+=`; Priority=Medium`;break;case`high`:o+=`; Priority=High`;break;default:throw TypeError(`option priority is invalid`)}if(r.sameSite)switch(typeof r.sameSite==`string`?r.sameSite.toLowerCase():r.sameSite){case!0:o+=`; SameSite=Strict`;break;case`lax`:o+=`; SameSite=Lax`;break;case`strict`:o+=`; SameSite=Strict`;break;case`none`:o+=`; SameSite=None`;break;default:throw TypeError(`option sameSite is invalid`)}return r.partitioned&&(o+=`; Partitioned`),o}function Te(e){return Object.prototype.toString.call(e)===`[object Date]`||e instanceof Date}function K(e){if(typeof e!=`object`)return e;var t,n,r=Object.prototype.toString.call(e);if(r===`[object Object]`){if(e.constructor!==Object&&typeof e.constructor==`function`)for(t in n=new e.constructor,e)e.hasOwnProperty(t)&&n[t]!==e[t]&&(n[t]=K(e[t]));else for(t in n={},e)t===`__proto__`?Object.defineProperty(n,t,{value:K(e[t]),configurable:!0,enumerable:!0,writable:!0}):n[t]=K(e[t]);return n}if(r===`[object Array]`){for(t=e.length,n=Array(t);t--;)n[t]=K(e[t]);return n}return r===`[object Set]`?(n=new Set,e.forEach(function(e){n.add(K(e))}),n):r===`[object Map]`?(n=new Map,e.forEach(function(e,t){n.set(K(t),K(e))}),n):r===`[object Date]`?new Date(+e):r===`[object RegExp]`?(n=new RegExp(e.source,e.flags),n.lastIndex=e.lastIndex,n):r===`[object DataView]`?new e.constructor(K(e.buffer)):r===`[object ArrayBuffer]`?e.slice(0):r.slice(-6)===`Array]`?new e.constructor(e):e}var Ee={path:`/`,watch:!0,decode:e=>{let t=decodeURIComponent(e),n=k(t);return typeof n==`number`&&(!Number.isFinite(n)||String(n)!==t)?t:n},encode:e=>encodeURIComponent(typeof e==`string`?e:JSON.stringify(e))},q=globalThis.cookieStore;function De(e,n){let i={...Ee,...n};i.filter??=t=>t===e;let a=J(i)||{},o;i.maxAge===void 0?i.expires&&(o=i.expires.getTime()-Date.now()):o=i.maxAge*1e3;let s=o!==void 0&&o<=0,c=s||a[e]===void 0||a[e]===null,l=K(s?void 0:a[e]??i.default?.()),u=o&&!s?Ae(l,o,i.watch&&i.watch!==`shallow`):t(l);{let t=null;try{!q&&typeof BroadcastChannel<`u`&&(t=new BroadcastChannel(`nuxt:cookies:${e}`))}catch{}let n=(n=!1)=>{!n&&(i.readonly||A(u.value,a[e]))||(ke(e,u.value,i),a[e]=K(u.value),t?.postMessage({value:i.encode(u.value)}))},o=t=>{let n=t.refresh?J(i)?.[e]:i.decode(t.value);s=!0,u.value=n,a[e]=K(n),r(()=>{s=!1})},s=!1,l=!!y();if(l&&f(()=>{s=!0,n(),t?.close()}),q){let t=t=>{let n=t.changed.find(t=>t.name===e),r=t.deleted.find(t=>t.name===e);n&&o({value:n.value}),r&&o({value:null})};q.addEventListener(`change`,t),l&&f(()=>q.removeEventListener(`change`,t))}else t&&(t.onmessage=({data:e})=>o(e));i.watch&&m(u,()=>{s||n()},{deep:i.watch!==`shallow`}),c&&n(c)}return u}function J(e={}){return U(document.cookie,e)}function Oe(e,t,n={}){return t==null?we(e,t,{...n,maxAge:-1}):we(e,t,n)}function ke(e,t,n={}){document.cookie=Oe(e,t,n)}var Y=2147483647;function Ae(e,n,r){let i,a,o=0,s=r?t(e):{value:e};return y()&&f(()=>{a?.(),clearTimeout(i)}),w((e,t)=>{r&&(a=m(s,t));function c(){o=0,clearTimeout(i);let e=n-o,r=e<Y?e:Y;i=setTimeout(()=>{if(o+=r,o<n)return c();s.value=void 0,t()},r)}return{get(){return e(),s.value},set(e){c(),s.value=e,t()}}})}var je={"h-full":``,"w-full":``,flex:`~ col`},Me={flex:`~ col gap-2`,"n-navbar-glass":``,"flex-none":``,p4:``},Ne={flex:`~ gap2 items-center`},Pe={relative:``,"w-full":``},Fe={absolute:``,"right-2":``,"top-1.5":``,flex:`~ gap-1`},Ie={flex:`~ gap2 wrap`,"w-full":``,"items-center":``,px4:``,pb2:``,"text-center":``,"text-sm":``,border:`b base`},Le={class:`hidden md:block`},Re={key:0,border:`b base`,"items-center":``,px4:``,py2:``,grid:`~ cols-[max-content_1fr] gap-2`},ze={"text-right":``,"font-mono":``},Be={key:1,border:`b base`,p4:``,flex:`~ col gap-4`,"font-mono":``},Ve={flex:`~ gap-4`},He={flex:`~ gap2`,"mb--2":``,"items-center":``,op50:``},Ue={key:2},We={key:3,border:`b base`,relative:``,"n-code-block":``},Ge={flex:`~ wrap`,"w-full":``},Ke=[`onClick`],qe={border:`b base`,flex:`~ gap2`,"items-center":``,px4:``,py2:``},Je={key:1,"text-xs":``,op50:``},Ye={key:0,"flex-auto":``,"overflow-auto":``},Xe={border:`~ base`,"h-full":``,"w-full":``,rounded:``},Ze=[`data`],Qe={key:2,"flex-auto":``,"overflow-auto":``,p4:``},$e={border:`~ base`,rounded:``},et=[`src`],tt={key:1,controls:``,rounded:``},nt=[`src`],X=n({__name:`ServerRouteDetails`,props:{route:{}},emits:[`openDefaultInput`],setup(n,{emit:r}){let l=n,f=r,[m,g]=N(),y=ie(),x=te(),w=re(),k=O({contentType:`text/plain`,data:``,statusCode:200,error:void 0,fetchTime:0}),A=C(()=>k.contentType.includes(`application/json`)?`json`:k.contentType.includes(`text/html`)?`html`:k.contentType.includes(`text/css`)?`css`:k.contentType.includes(`text/javascript`)?`javascript`:k.contentType.includes(`image`)||k.contentType.includes(`video`)?`media`:k.contentType.includes(`text/xml`)||k.contentType.includes(`application/xml`)?`xml`:k.contentType.includes(`application/pdf`)?`pdf`:`text`),M=C(()=>{if(A.value===`json`)return JSON.stringify(k.data,null,2);if(A.value===`media`||A.value===`pdf`){let e=new Blob([k.data],{type:k.contentType});return URL.createObjectURL(e)}return k.data}),I=t(!1),L=t(!1),ue=de(),pe=C(()=>l.route.route?.split(/((?:\*\*)?:\w+)/g)),R=C(()=>pe.value?.filter(e=>e.startsWith(`:`)||e.startsWith(`**:`))||[]),z=t(l.route.method||`GET`),B=t({}),V=O({query:[{active:!0,key:``,value:``,type:`string`}],body:[{active:!0,key:``,value:``,type:`string`}],headers:[{active:!0,key:`Content-Type`,value:`application/json`,type:`string`}]}),H=t({}),{inputDefaults:U,sendFrom:Ce}=F(`serverRoutes`),W=C(()=>w?.value?.app?.$fetch?Ce.value:`devtools`),G=[`GET`,`POST`,`PUT`,`PATCH`,`DELETE`,`HEAD`],we=[`PATCH`,`POST`,`PUT`,`DELETE`],Te=C(()=>we.includes(z.value.toUpperCase())),K=t(),Ee=[`input`,`json`],q=t(Ee[0]),J=C({get:()=>V[K.value],set:e=>{V[K.value]=e}}),Oe=C(()=>({...Z(U.value.query),...Z(V.query)})),ke=C(()=>({...Z(U.value.headers),...Z(V.headers)})),Y=C(()=>Te.value?q.value===`json`?{...Z(U.value.body),...H.value}:{...Z(U.value.body),...Z(V.body)}:void 0),Ae=C(()=>{let e=window?.location.origin;return e.charAt(e.length-1)===`/`&&(e=e.slice(0,-1)),e}),X=C(()=>{let e=new URLSearchParams(Oe.value).toString();e&&=`?${e}`;let t=(pe.value?.map(e=>(e.startsWith(`:`)||e.startsWith(`**:`))&&B.value[e]||e).join(``)||``)+e,n=x.value?.app.baseURL||``;return(n===`./`||n===`.`)&&(n=``),n.endsWith(`/`)&&(n=n.slice(0,-1)),n+t}),rt=C(()=>Ae.value+X.value);function Z(e=[]){let t=Object.fromEntries(e.filter(({active:e,key:t,value:n})=>e&&t&&n!==void 0).map(({key:e,value:t})=>[e,t]));return Object.entries(t).length?t:void 0}async function it(){L.value=!0,I.value=!0;let e=Date.now(),t=W.value===`app`?w.value.app.$fetch:$fetch;se(`server-routes:fetch`,{method:z.value,sendFrom:W.value});try{k.data=await t(rt.value,{method:z.value.toUpperCase(),headers:ke.value,query:Oe.value,body:Y.value,onResponse({response:e}){k.contentType=(e.headers.get(`content-type`)||``).toString().toLowerCase().trim(),k.statusCode=e.status,k.error=void 0},onResponseError(e){k.error=e.response._data,k.data=e.response._data}})}catch{}I.value=!1,k.fetchTime=Date.now()-e}let at=C(()=>{let e=[],t=[],n=Object.entries(ke.value).filter(([e,t])=>e&&t&&!(e===`Content-Type`&&t===`application/json`)).map(([e,t])=>`  '${e}': '${t}'`).join(`,
`);z.value.toUpperCase()!==`GET`&&t.push(`method: '${z.value.toUpperCase()}'`),n&&t.push(`headers: {\n${n}\n}`),Y.value&&t.push(`body: ${JSON.stringify(Y.value,null,2)}`);let r=t.length?`, {
${t.join(`,
`).split(`
`).map(e=>`  ${e}`).join(`
`)}
}`:``;return e.push({name:`useFetch`,lang:`javascript`,docs:ye.nuxt.useFetch,code:`const { data, pending, error, refresh } = useFetch('${X.value}'${r})`}),e.push({name:`$fetch`,lang:`javascript`,docs:ye.nuxt.$fetch,code:`await $fetch('${X.value}'${r})`}),e}),Q=t(st()),$=O({key:``,value:``}),ot=C(()=>{let e=[];return R.value.length&&e.push({name:`Params`,slug:`params`,length:R.value.length}),e.push({name:`Query`,slug:`query`,length:V.query.length}),Te.value&&e.push({name:`Body`,slug:`body`,length:V.body.length}),e.push({name:`Headers`,slug:`headers`,length:V.headers.length}),e.push({name:`Cookies`,slug:`cookies`,length:Q.value.length}),e.push({name:`Snippets`,slug:`snippet`}),e});function st(){return document.cookie.split(`; `).map(e=>{let[t,n]=e.split(`=`);return{key:t,value:n}}).filter(e=>e.key)}function ct(e,t){if(!e)return;let n=Q.value.find(t=>t.key===e),r=De(e);n===void 0?(Q.value.push({key:e,value:t}),$.key=``,$.value=``):t===void 0&&(Q.value=Q.value.filter(t=>t.key!==e)),r.value=t}S(()=>{q.value===`json`&&typeof H.value==`string`&&(H.value=JSON.parse(H.value))});let lt=P(`nuxt-devtools:server-routes:inputs`,()=>[],{window:window.parent});ne([V,K],()=>{let e=lt.value?.find(e=>e.path===l.route.filepath);if(e){K.value||=e.tab,e.tab!==K.value&&(e.tab=K.value);let{body:t,query:n,headers:r,params:i}=e.inputs;Object.assign(V,{body:t,query:n,headers:r}),B.value=i}else{let e={path:l.route.filepath,tab:R.value.length?`params`:`query`,inputs:{...V,...R.value.length?{params:B.value}:{}}};lt.value.push(e),K.value||=e.tab}},{immediate:!0,deep:!0,debounce:500});function ut(){lt.value=[],V.body=[],V.query=[],V.headers=[],B.value={},K.value=R.value.length?`params`:`query`}let dt=me();return(t,r)=>{let l=oe,x=he,S=le,C=ae,O=Se,te=_e,ne=ce,N=fe,P=be,re=xe,ie=ge,F=o(`tooltip`);return c(),E(`div`,je,[b(`div`,Me,[b(`div`,Ne,[n.route.method?(c(),v(l,{key:0,class:s([`n-badge-base n-sm`,i(j)(z.value)]),"pointer-events-none":``,"font-mono":``,tabindex:`-1`},{default:h(()=>[e(T(z.value.toUpperCase()),1)]),_:1},8,[`class`])):(c(),v(x,{key:1,modelValue:z.value,"onUpdate:modelValue":r[0]||=e=>z.value=e,class:s([`n-badge-base n-sm`,i(j)(z.value)])},{default:h(()=>[(c(),E(p,null,u(G,e=>b(`option`,{key:e,class:s(i(j)(e))},T(e.toUpperCase()),3)),64))]),_:1},8,[`modelValue`,`class`])),b(`div`,Pe,[D(S,{"model-value":X.value,readonly:``,"flex-auto":``,"font-mono":``,p:`x5 y2`,n:`sm`},null,8,[`model-value`]),b(`div`,Fe,[_(D(l,{title:`Copy URL`,n:`xs blue`,icon:`carbon:copy`,border:!1,onClick:r[1]||=e=>i(dt)(rt.value,`server-route-url`)},null,512),[[F,`Copy URL`]]),_(D(l,{title:`Open in Editor`,icon:`carbon-launch`,n:`xs blue`,border:!1,onClick:r[2]||=e=>i(ue)(n.route.filepath)},null,512),[[F,`Open in Editor`]])])]),D(l,{"h-full":``,n:`primary solid`,onClick:it},{default:h(()=>[D(C,{icon:`carbon:send`})]),_:1})])]),b(`div`,Ie,[(c(!0),E(p,null,u(ot.value,t=>_((c(),v(l,{key:t.slug,class:s(K.value===t.slug?`text-primary n-primary`:`border-transparent shadow-none`),onClick:e=>K.value=t.slug},{default:h(()=>[D(C,{icon:i(ve)[t.slug]},null,8,[`icon`]),b(`div`,Le,[e(T(t.name)+` `+T(t?.length?`(${t.length})`:``)+` `,1),b(`span`,null,T(i(U)[t.slug]?.length?`(${i(U)[t.slug].length})`:``),1)])]),_:2},1032,[`class`,`onClick`])),[[F,t.name]])),128)),r[12]||=b(`div`,{"flex-auto":``},null,-1),r[13]||=b(`div`,{"text-xs":``,op50:``},` Send from `,-1),D(x,{modelValue:W.value,"onUpdate:modelValue":r[3]||=e=>W.value=e,class:`n-xs`,disabled:!i(w)?.app?.$fetch},{default:h(()=>[...r[11]||=[b(`option`,{value:`app`},` App `,-1),b(`option`,{value:`devtools`},` DevTools `,-1)]]),_:1},8,[`modelValue`,`disabled`]),_(D(l,{n:`orange`,class:`p-3`,icon:`i-carbon-clean`,onClick:ut},null,512),[[F,`Clear Inputs Saved Cache`]])]),K.value===`params`?(c(),E(`div`,Re,[(c(!0),E(p,null,u(R.value,e=>(c(),E(p,{key:e},[b(`div`,ze,T(e),1),D(S,{modelValue:B.value[e],"onUpdate:modelValue":t=>B.value[e]=t,placeholder:e,"flex-1":``},null,8,[`modelValue`,`onUpdate:modelValue`,`placeholder`])],64))),128))])):d(``,!0),K.value===`cookies`?(c(),E(`div`,Be,[(c(!0),E(p,null,u(Q.value,e=>(c(),E(`div`,{key:e.key,flex:`~ gap-4 items-center`},[D(S,{placeholder:`Key...`,"model-value":e.key,disabled:``,"op-70":``},null,8,[`model-value`]),D(S,{placeholder:`Value...`,"model-value":e.value,"flex-1":``,n:`primary`,onInput:t=>ct(e.key,t.target?.value)},null,8,[`model-value`,`onInput`]),D(l,{title:`Delete`,n:`red`,onClick:t=>ct(e.key,void 0)},{default:h(()=>[D(C,{icon:`i-carbon-trash-can`})]),_:1},8,[`onClick`])]))),128)),b(`div`,Ve,[D(S,{modelValue:$.key,"onUpdate:modelValue":r[4]||=e=>$.key=e,placeholder:`Key`,n:`primary`,"flex-1":``},null,8,[`modelValue`]),D(S,{modelValue:$.value,"onUpdate:modelValue":r[5]||=e=>$.value=e,placeholder:`Value`,n:`primary`,"flex-1":``},null,8,[`modelValue`]),D(l,{title:`Add`,n:`primary`,onClick:r[6]||=e=>ct($.key,$.value)},{default:h(()=>[D(C,{icon:`i-carbon-save`})]),_:1})])])):d(``,!0),D(i(m),null,{default:h(()=>[D(O,{modelValue:J.value,"onUpdate:modelValue":r[9]||=e=>J.value=e,default:{active:!0,type:`string`},"max-h-xs":``,"of-auto":``},{default:h(()=>[i(U)[K.value]?.length?(c(),E(p,{key:0},[b(`div`,He,[r[14]||=b(`div`,{"w-5":``,"x-divider":``},null,-1),r[15]||=b(`div`,{"flex-none":``},` Default Inputs `,-1),D(l,{icon:`i-carbon-edit`,border:!1,onClick:r[7]||=e=>f(`openDefaultInput`)}),r[16]||=b(`div`,{"x-divider":``},null,-1)]),D(O,{modelValue:i(U)[K.value],"onUpdate:modelValue":r[8]||=e=>i(U)[K.value]=e,disabled:``,p0:``},null,8,[`modelValue`])],64)):d(``,!0)]),_:1},8,[`modelValue`])]),_:1}),K.value===`snippet`?(c(),E(`div`,Ue,[at.value.length?(c(),v(te,{key:0,"code-snippets":at.value},null,8,[`code-snippets`])):d(``,!0)])):J.value?(c(),E(`div`,We,[K.value===`body`?(c(),E(p,{key:0},[b(`div`,Ge,[(c(),E(p,null,u(Ee,e=>b(`button`,{key:e,px4:``,py2:``,border:`r base`,hover:`bg-active`,class:s({"border-b":e!==q.value}),onClick:t=>q.value=e},[b(`div`,{class:s({op30:e!==q.value}),"font-mono":``},T(e),3)],10,Ke)),64)),r[17]||=b(`div`,{border:`b base`,"flex-auto":``},null,-1)]),q.value===`input`?(c(),v(i(g),{key:0})):q.value===`json`?(c(),v(i(ee),a({key:1,modelValue:H.value,"onUpdate:modelValue":r[10]||=e=>H.value=e,class:[i(y)===`dark`?`jse-theme-dark`:`light`,`json-editor-vue of-auto text-sm outline-none`]},t.$attrs,{mode:`text`,"navigation-bar":!1,indentation:2,"tab-size":2}),null,16,[`modelValue`,`class`])):d(``,!0)],64)):(c(),v(i(g),{key:1}))])):d(``,!0),L.value?I.value?(c(),v(N,{key:5,"z-10":``,"flex-auto":``,"backdrop-blur":``},{default:h(()=>[...r[19]||=[e(` Fetching... `,-1)]]),_:1})):(c(),E(p,{key:6},[b(`div`,qe,[r[21]||=b(`div`,null,`Response`,-1),k.error?(c(),v(P,{key:0,n:`red`},{default:h(()=>[...r[20]||=[e(` Error `,-1)]]),_:1})):d(``,!0),D(P,{n:k.error?`orange`:`green`,textContent:T(k.statusCode)},null,8,[`n`,`textContent`]),k.contentType?(c(),E(`code`,Je,T(k.contentType),1)):d(``,!0),k.contentType===`application/json`?(c(),v(re,{key:2,getter:()=>({input:M.value})},null,8,[`getter`])):d(``,!0),r[22]||=b(`div`,{"flex-auto":``},null,-1),r[23]||=b(`div`,{op50:``},` Request finished in `,-1),D(P,{n:`green`},{default:h(()=>[e(T(k.fetchTime)+` ms `,1)]),_:1})]),A.value===`pdf`?(c(),E(`div`,Ye,[b(`div`,Xe,[b(`object`,{data:M.value,type:`application/pdf`,"flex-auto":``,width:`100%`,height:`100%`,rounded:``},null,8,Ze)])])):A.value===`media`?(c(),E(`div`,Qe,[b(`div`,$e,[k.contentType.includes(`image`)?(c(),E(`img`,{key:0,rounded:``,src:M.value},null,8,et)):(c(),E(`video`,tt,[b(`source`,{src:M.value,type:`video/mp4`},null,8,nt)]))])])):(c(),v(ie,{key:1,"flex-auto":``,"overflow-auto":``,"py-2":``,code:M.value,lang:A.value},null,8,[`code`,`lang`]))],64)):(c(),v(ne,{key:4},{default:h(()=>[D(l,{n:`primary`,onClick:it},{default:h(()=>[D(C,{icon:`carbon:send`}),r[18]||=e(` Send request `,-1)]),_:1})]),_:1}))])}}}),rt=Object.assign(X,{__name:`ServerRouteDetails`}),Z={flex:`~ gap1`,"text-sm":``},it={key:0,op50:``},at={op50:``},Q=n({__name:`server-routes`,setup(e){let n=t(!1),r=M(),a=L(),{selectedRoute:s,view:l,inputDefaults:f}=F(`serverRoutes`),m=C(()=>{!a.value&&s.value&&(a.value=s.value.filepath);let e=r.value?.find(e=>e.filepath===a.value);return a.value!==s.value?.filepath&&e&&(s.value=e),e}),g=t(``),y=C(()=>new pe(r.value||[],{keys:[`method`,`route`],shouldSort:!0})),S=C(()=>r.value?g.value?y.value.search(g.value).map(e=>e.item):r.value:[]),w=C(()=>{let e=[],t=(e,t)=>{e.routes=e.routes||[],e.routes.push(t)},n=(n,r)=>{let i=r?r.routes?.find(e=>e.route===n):e.find(e=>e.route===n);if(i)return i;let a={route:n,filepath:n.replace(/\W/g,`-`).toLowerCase(),type:`collection`,routes:[]};return r?t(r,a):e.push(a),a};return S.value.forEach(r=>{let i,a,o=r.filepath.split(`/`),s=o.slice(o.indexOf(`server`)+1);if(r.type===`runtime`){s[0]=`runtime`;let e=o.indexOf(`dist`);e!==-1&&(i=o[e-1],i&&s.splice(1,0,i))}s.length>0&&s[s.length-1].includes(`.`)&&s.pop(),s.forEach(e=>{a=n(e,a)}),a?t(a,r):e.push(r)}),e});function ee(){l.value=l.value===`tree`?`list`:`tree`}function O(e){return e.charAt(0).toUpperCase()+e.slice(1)}return(e,t)=>{let a=oe,s=z,y=H,C=rt,k=I,A=ce,j=ue,te=Se,M=B,ne=R,N=o(`tooltip`);return c(),E(p,null,[D(j,{"storage-key":`tab-server-routes`},{left:h(()=>[D(s,{search:g.value,"onUpdate:search":t[1]||=e=>g.value=e,pb2:``},{actions:h(()=>[_(D(a,{"text-lg":``,icon:i(l)===`list`?`i-carbon-list`:`i-carbon-tree-view-alt`,title:`Toggle view`,border:!1,onClick:ee},null,8,[`icon`]),[[N,`Toggle View`]]),_(D(a,{"text-lg":``,icon:`i-carbon-cics-sit-overrides`,title:`Default Inputs`,border:!1,onClick:t[0]||=e=>n.value=!n.value},null,512),[[N,`Default Inputs`]])]),default:h(()=>[b(`div`,Z,[g.value?(c(),E(`span`,it,T(S.value.length)+` matched Â· `,1)):d(``,!0),b(`span`,at,T(i(r)?.length)+` routes in total`,1)])]),_:1},8,[`search`]),(c(!0),E(p,null,u(i(l)===`tree`?w.value:S.value,e=>(c(),v(y,{key:e.filepath,item:e},null,8,[`item`]))),128))]),right:h(()=>[(c(),v(x,{max:10},[m.value?(c(),v(C,{key:m.value.filepath,route:m.value,onOpenDefaultInput:t[2]||=e=>n.value=!0},null,8,[`route`])):d(``,!0)],1024)),m.value?d(``,!0):(c(),v(A,{key:0},{default:h(()=>[D(k,{px6:``,py2:``},{default:h(()=>[...t[5]||=[b(`span`,{op75:``},`Select a route to start`,-1)]]),_:1})]),_:1}))]),_:1}),D(ne,{modelValue:n.value,"onUpdate:modelValue":t[3]||=e=>n.value=e,"auto-close":``,"max-w-xl":``,"min-w-xl":``,onClose:t[4]||=e=>n.value=!1},{default:h(()=>[b(`div`,null,[t[6]||=b(`div`,{p4:``,border:`b base`},[b(`span`,{"text-lg":``},`Default Inputs`),b(`br`),b(`span`,{"text-black":``,op50:``,"dark:text-white":``},`Merged as default for every request in DevTools`)],-1),(c(!0),E(p,null,u(Object.keys(i(f)),e=>(c(),v(M,{key:e,text:`${O(e)} ${i(f)[e]?.length?`(${i(f)[e].length})`:``}`,padding:!1,icon:i(ve)[e]},{default:h(()=>[D(te,{modelValue:i(f)[e],"onUpdate:modelValue":t=>i(f)[e]=t,py0:``,default:{active:!0,type:`string`}},null,8,[`modelValue`,`onUpdate:modelValue`])]),_:2},1032,[`text`,`icon`]))),128))])]),_:1},8,[`modelValue`])],64)}}});export{Q as default};