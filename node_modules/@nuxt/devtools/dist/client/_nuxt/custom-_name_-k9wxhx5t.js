import{$ as e,C as t,Ct as n,E as r,F as i,H as a,Mt as o,V as s,W as c,dt as l,g as u,h as d,lt as f,m as p,tn as m,v as h,w as g,xt as _}from"./vendor/json-editor-vue-jlmu1vk1.js";import{g as v,h as y}from"./ready-mmkdpbhg.js";import"./nuxt-h34yfo3l.js";import"./head-k6pu038r.js";import"./state-b65zn1p8.js";import{T as b,s as x,t as S,u as C}from"./client-ea5fdhj9.js";import"./vendor/shiki-jnavg768.js";import"./storage-options-os0x8zby.js";import{i as w,r as T}from"./dev-auth-jrf61eu0.js";import"./nuxt-link-lrojf3ui.js";import"./nicon-j0r9gdjm.js";import"./nbutton-m0kqfedx.js";import{t as E}from"./ncard-qqqgbjy9.js";import"./telemetry-pccqt90w.js";import{r as D}from"./state-tabs-jkd7jbwg.js";import{t as O}from"./npanel-grids-m4ogaoh1.js";import"./ntext-input-ozkk5xro.js";import{a as k}from"#entry";import"./client-lfu9nb62.js";import"./composables-k2ak4j8d.js";import"./nmarkdown-nsbirjtv.js";import{t as A}from"./launch-page-k1lwfnm2.js";var j=new Map,M=r({__name:`IframeView`,props:{tab:{}},setup(e){let t=e,r=S(),o=n(),l=p(()=>t.tab.name),u=n(),d=_(b(o));s(()=>{let e=t.tab.view,n=e.persistent!==!1,r=[`clipboard-write`,`clipboard-read`,...e.permissions||[]];if(j.get(l.value)&&n)u.value=j.get(l.value),u.value.style.visibility=`visible`;else{u.value=document.createElement(`iframe`),u.value.setAttribute(`allow`,r.join(`; `)),u.value.setAttribute(`aria-label`,`Nuxt Devtools`),n&&j.set(l.value,u.value),u.value.src=e.src;try{u.value.style.opacity=`0.01`,u.value.onload=()=>{v(),m(),u.value.style.opacity=`1`}}catch{u.value.style.opacity=`1`}document.body.appendChild(u.value),i(y)}setTimeout(m,100)}),f(y),f(m),f(v),a(()=>{u.value&&(u.value.style.visibility=`hidden`)});function m(){if(!(!u.value||!u.value.contentWindow))try{let e=u.value.contentWindow.document.querySelector(`html`);e?.classList.toggle(`dark`,r.value===`dark`),e?.classList.toggle(`light`,r.value===`dark`),new MutationObserver(()=>{r.value=u.value?.contentWindow?.document.querySelector(`html`)?.classList.contains(`dark`)?`dark`:`light`}).observe(e,{attributes:!0,attributeFilter:[`class`]})}catch{}}let g=x();function v(){if(!(!u.value||!u.value.contentWindow))try{u.value.contentWindow.__NUXT_DEVTOOLS__=g.value}catch{}}function y(){u.value&&Object.assign(u.value.style,{position:`fixed`,left:`${d.left}px`,top:`${d.top}px`,width:`${d.width}px`,height:`${d.height}px`,outline:`none`})}return(e,t)=>(c(),h(`div`,{ref_key:`anchor`,ref:o,"h-full":``,"w-full":``},null,512))}}),N=Object.assign(M,{__name:`IframeView`}),P={flex:`~ col gap2`,mxa:``,"items-center":``},F={"text-xl":``},I={"text-rose":``},L=r({__name:`custom-[name]`,props:{name:{}},setup(n){let r=n,i=y(),a=v(),f=p(()=>r.name??i.params.name),h=D(),_=p(()=>h.value.find(e=>e.name===f.value));return s(()=>{_.value?_.value.requireAuth&&!T.value&&w():setTimeout(()=>{_.value||a.push(`/modules/overview`)},2e3)}),(n,r)=>{let i=O,a=k,s=N,p=A,h=E;return _.value?_.value.requireAuth&&!o(T)?(c(),u(a,{key:1})):_.value.view.type===`iframe`?(c(),u(s,{key:2,tab:_.value},null,8,[`tab`])):_.value.view.type===`vnode`?(c(),u(e(_.value.view.vnode),{key:3})):_.value.view.type===`launch`?(c(),u(p,{key:4,name:`custom-${_.value.name}`,icon:_.value.view.icon||_.value.icon,title:_.value.view.title||_.value.title,description:_.value.view.description,actions:_.value.view.actions,onAction:r[0]||=e=>o(C).customTabAction(_.value.name,e)},null,8,[`name`,`icon`,`title`,`description`,`actions`])):(c(),u(i,{key:5},{default:l(()=>[g(h,{flex:`~ col`,"h-full":``,"items-center":``,"justify-center":``},{default:l(()=>[t(` Unknown tab type `+m(_.value.view),1)]),_:1})]),_:1})):(c(),u(i,{key:0},{default:l(()=>[d(`div`,P,[r[3]||=d(`div`,{"i-carbon-queued":``,mb2:``,"text-5xl":``,op50:``},null,-1),d(`p`,F,[r[1]||=t(` Tab `,-1),d(`code`,I,m(f.value),1),r[2]||=t(` not found `,-1)]),r[4]||=d(`p`,{op50:``},` It might because the module contributing this tab is not installed or enabled `,-1),r[5]||=d(`p`,{mt8:``,"animate-pulse":``},` Redirecting to overview page... `,-1)])]),_:1}))}}});export{L as default};