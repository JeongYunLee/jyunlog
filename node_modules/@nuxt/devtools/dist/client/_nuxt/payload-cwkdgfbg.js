import{C as e,E as t,Mt as n,P as r,Q as i,W as a,X as o,Y as s,_ as c,c as l,dt as u,ft as d,g as f,h as p,m,v as h,w as g}from"./vendor/json-editor-vue-jlmu1vk1.js";import"./ready-mmkdpbhg.js";import"./nuxt-h34yfo3l.js";import"./head-k6pu038r.js";import"./state-b65zn1p8.js";import{r as _}from"./client-ea5fdhj9.js";import"./vendor/shiki-jnavg768.js";import"./storage-options-os0x8zby.js";import"./nuxt-link-lrojf3ui.js";import{t as v}from"./_plugin-vue_export-helper-myijwyyb.js";import"./nicon-j0r9gdjm.js";import{t as y}from"./nbutton-m0kqfedx.js";import"./composables-k2ak4j8d.js";import{t as b}from"./help-fab-hk76lwiw.js";import"./nicon-title-ggx25xp9.js";import{t as x}from"./nsection-block-dzbgwc4z.js";import"./data-schema-button-fk6ozqve.js";import{t as S}from"./state-editor-egz1k0a8.js";var C={key:0,flex:`~ col gap-1`},w={key:1,mt2:``,px4:``,italic:``,op35:``},T=t({__name:`StateGroup`,props:{state:{},revision:{},prefix:{default:``}},setup(e){return(t,n)=>{let i=S;return a(),h(`div`,null,[e.state&&Object.keys(e.state).length>0?(a(),h(`div`,C,[(a(!0),h(l,null,s(e.state,(n,s)=>(a(),f(i,{key:s,revision:e.revision,state:n,name:s.startsWith(e.prefix)?s.slice(e.prefix.length):s},{actions:u(e=>[o(t.$slots,`actions`,r({ref_for:!0},e))]),_:3},8,[`revision`,`state`,`name`]))),128))])):(a(),h(`div`,w,` No data `))])}}}),E=Object.assign(T,{__name:`StateGroup`}),D={},O={class:`markdown-body`};function k(e,t){return a(),h(`div`,O,[...t[0]||=[p(`template`,null,[p(`div`,{class:`markdown-body`},[p(`h1`,null,`State & Async Data`),p(`p`,null,`// TODO`)])],-1)]])}var A=v(D,[[`render`,k]]),j={key:0},M=t({__name:`payload`,setup(t){let r=_(),o=m(()=>r.value?.nuxt.payload),s=m(()=>r.value?.revision.value);async function p(e){await r.value?.nuxt.hooks.callHookParallel(`app:data:refresh`,e)}return(t,m)=>{let _=E,v=x,C=y,w=S,T=A,D=b,O=i(`tooltip`);return a(),h(l,null,[n(r)?(a(),h(`div`,j,[g(v,{icon:`carbon-data-set`,text:`State`,description:"Keyed state from `useState`",padding:!1},{default:u(()=>[g(_,{state:o.value.state,revision:s.value,prefix:`$s`},null,8,[`state`,`revision`])]),_:1}),g(v,{icon:`carbon-data-blob`,text:`Data`,description:"Keyed state from `useAsyncData`",padding:!1},{actions:u(()=>[g(C,{n:`xs primary`,"self-start":``,icon:`i-carbon-recycle`,onClick:m[0]||=e=>p()},{default:u(()=>[...m[1]||=[e(` Re-fetch all data `,-1)]]),_:1})]),default:u(()=>[g(_,{state:o.value.data,revision:s.value},{actions:u(({isOpen:e,name:t})=>[e&&t?d((a(),f(C,{key:0,title:`Re-fetch '${t}'`,icon:`carbon-recycle`,border:!1,onClick:e=>p([t])},null,8,[`title`,`onClick`])),[[O,`Re-fetch '${t}'`,void 0,{bottom:!0}]]):c(``,!0)]),_:1},8,[`state`,`revision`])]),_:1}),o.value.functions&&Object.keys(o.value.functions).length?(a(),f(v,{key:0,icon:`carbon-function`,text:`Functions`,description:`State for functions`},{default:u(()=>[g(w,{"ml--6":``,state:o.value.functions,revision:s.value},null,8,[`state`,`revision`])]),_:1})):c(``,!0)])):c(``,!0),g(D,null,{default:u(()=>[g(T)]),_:1})],64)}}});export{M as default};